"use strict";(self.webpackChunktm_app=self.webpackChunktm_app||[]).push([[849],{849:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var r=t(2791),i=t(703),a=t(1889),l=t(9434),s=t(8844),o=t(1413),c=t(4852),u=t(9900),d=t(7621),p=t(9585),x=t(9504),h=t(890),f=t(5861),v=t(885),Z=t(7757),j=t.n(Z),m=t(3400),g=t(9875),b=t(3903),C=t(3053),k=t(33),I=t(48),w=t(184),S=(0,k.ZP)((function(e){return(0,w.jsx)(C.Z,(0,o.Z)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var n=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:n.spacing(1),minWidth:180,color:"light"===n.palette.mode?"rgb(55, 65, 81)":n.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiIcon-root":{fontSize:18,color:n.palette.text.secondary,marginRight:n.spacing(1.5)},"&:active":{backgroundColor:(0,I.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}}}})),y=t(9045),T=t(5290),P=t(7695),z=t(2810),E=t(297),F=t(8460);var R=function(e){var n=e.handleClose,t=e.listId,r=e.ticket,i=void 0===r?null:r,a=(0,l.v9)((function(e){return(0,F.Nn)(e,"title")})),s=(0,l.v9)((function(e){return(0,F.Nn)(e,"description")})),c=(0,T.cI)({defaultValues:i||{title:a,description:s}}),u=c.register,d=c.handleSubmit,p=c.formState.errors,x=(0,l.I0)(),h=i?"Edit Task":"New Task",v=function(){var e=(0,f.Z)(j().mark((function e(r){var a,l,s,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.title,l=r.description,s={title:a,description:l,id:(null===i||void 0===i?void 0:i.id)||(0,z.Z)(),listId:t},o=i?E.Vx:E.IH,e.next=5,x(o(s)).unwrap();case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsx)(P.Z,{open:!0,handleClose:n,handleSave:d(v),title:h,content:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.Z,(0,o.Z)({autoFocus:!0,margin:"dense",label:"Title",type:"text",fullWidth:!0,variant:"standard",error:!!p.title,helperText:p.title?"letters and numbers only.":""},u("title",{pattern:/^[A-Za-z0-9]+$/i}))),(0,w.jsx)(y.Z,(0,o.Z)({margin:"dense",label:"Description",type:"text",fullWidth:!0,variant:"standard",multiline:!0},u("description")))]})})};var N=function(e){var n=e.item,t=(0,l.I0)(),i=r.useState(null),a=(0,v.Z)(i,2),s=a[0],o=a[1],c=Boolean(s),u=function(){o(null)},d=(0,r.useState)(!1),p=(0,v.Z)(d,2),x=p[0],h=p[1],Z=(0,r.useState)(!1),C=(0,v.Z)(Z,2),k=C[0],I=C[1],y=function(){return I(!1)},T=function(){var e=(0,f.Z)(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.next=3,t((0,E.wz)(n)).unwrap();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.Z,{"aria-label":"actions",onClick:function(e){o(e.currentTarget)},"aria-haspopup":"true","aria-expanded":x?"true":void 0,children:(0,w.jsx)(g.Z,{children:"more_vert"})}),(0,w.jsxs)(S,{anchorEl:s,open:c,onClose:u,children:[(0,w.jsxs)(b.Z,{onClick:function(){u(),h(!0)},disableRipple:!0,children:[(0,w.jsx)(g.Z,{children:"edit"}),"Edit"]}),(0,w.jsxs)(b.Z,{onClick:function(){u(),I(!0)},disableRipple:!0,children:[(0,w.jsx)(g.Z,{children:"delete"}),"Delete"]})]}),x&&(0,w.jsx)(R,{handleClose:function(){return h(!1)},listId:n.listId,ticket:n}),k&&(0,w.jsx)(P.Z,{open:!0,handleClose:y,handleSave:T,saveTitle:"Yes",content:"Confirm to delete?"})]})};var M=function(e){var n=e.item;return(0,w.jsxs)(d.Z,{sx:{m:1},children:[(0,w.jsx)(p.Z,{action:(0,w.jsx)(N,{item:n}),subheader:n.title}),(0,w.jsx)(x.Z,{children:(0,w.jsx)(h.Z,{variant:"body2",color:"text.secondary",children:n.description})})]})};var W=function(e){var n=e.item,t=e.idx;return(0,w.jsx)(s._l,{draggableId:"".concat(n.id),index:t,children:function(e,t){return(0,w.jsx)("div",(0,o.Z)((0,o.Z)((0,o.Z)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:(0,w.jsx)(M,{item:n})}))}})},V=t(2363),_=t(6151);var D=function(e){var n=e.listId,t=(0,r.useState)(!1),i=(0,v.Z)(t,2),a=i[0],l=i[1];return(0,w.jsxs)(d.Z,{elevation:0,children:[(0,w.jsx)(V.Z,{children:(0,w.jsx)(_.Z,{size:"large",fullWidth:!0,onClick:function(){return l(!0)},children:"New Task"})}),a&&(0,w.jsx)(R,{handleClose:function(){return l(!1)},listId:n})]})},A=t(4473);var H=function(e){var n=e.handleClose,t=e.list,r=void 0===t?null:t,i=(0,l.v9)((function(e){return(0,F.Nn)(e,"username")})),a=(0,T.cI)({defaultValues:r||{title:i}}),s=a.register,c=a.handleSubmit,u=a.formState.errors,d=(0,l.I0)(),p=r?"Edit List":"New List",x=function(){var e=(0,f.Z)(j().mark((function e(t){var i,a,l;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.title,a={title:i,id:(null===r||void 0===r?void 0:r.id)||(0,z.Z)()},l=r?A.Vx:A.IH,e.next=5,d(l(a)).unwrap();case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsx)(P.Z,{open:!0,handleClose:n,handleSave:c(x),title:p,content:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(y.Z,(0,o.Z)({autoFocus:!0,margin:"dense",label:"Title",type:"text",fullWidth:!0,variant:"standard",error:!!u.title,helperText:u.title?"letters and numbers only.":""},s("title",{pattern:/^[A-Za-z0-9]+$/i})))})})};var L=function(e){var n=e.item,t=(0,l.I0)(),i=r.useState(null),a=(0,v.Z)(i,2),s=a[0],o=a[1],c=Boolean(s),u=function(){o(null)},d=(0,r.useState)(!1),p=(0,v.Z)(d,2),x=p[0],h=p[1],Z=(0,r.useState)(!1),C=(0,v.Z)(Z,2),k=C[0],I=C[1],y=function(){return I(!1)},T=function(){var e=(0,f.Z)(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.next=3,t((0,A.wz)(n)).unwrap();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.Z,{"aria-label":"actions",onClick:function(e){o(e.currentTarget)},"aria-haspopup":"true","aria-expanded":x?"true":void 0,children:(0,w.jsx)(g.Z,{children:"more_vert"})}),(0,w.jsxs)(S,{anchorEl:s,open:c,onClose:u,children:[(0,w.jsxs)(b.Z,{onClick:function(){u(),h(!0)},disableRipple:!0,children:[(0,w.jsx)(g.Z,{children:"edit"}),"Edit"]}),(0,w.jsxs)(b.Z,{onClick:function(){u(),I(!0)},disableRipple:!0,children:[(0,w.jsx)(g.Z,{children:"delete"}),"Delete"]})]}),x&&(0,w.jsx)(H,{handleClose:function(){return h(!1)},list:n}),k&&(0,w.jsx)(P.Z,{open:!0,handleClose:y,handleSave:T,saveTitle:"Yes",content:"Confirm to delete?"})]})};var O=function(e){var n=e.item,t=(0,l.v9)((function(e){return(0,E.tP)(e,n.id)}));return(0,w.jsxs)(i.Z,{variant:"outlined",children:[(0,w.jsx)(c.ZP,{secondaryAction:(0,w.jsx)(L,{item:n}),children:(0,w.jsx)(u.Z,{primary:n.title})}),(0,w.jsx)(D,{listId:n.id}),(0,w.jsx)(s.bK,{droppableId:"".concat(n.id),children:function(e,n){return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)("div",(0,o.Z)((0,o.Z)({ref:e.innerRef},e.droppableProps),{},{children:t.map((function(e,n){return(0,w.jsx)(W,{idx:n,item:e},e.id)}))})),e.placeholder]})}})]})};var B=function(){var e=(0,r.useState)(!1),n=(0,v.Z)(e,2),t=n[0],a=n[1];return(0,w.jsxs)(i.Z,{variant:"outlined",children:[(0,w.jsx)(d.Z,{children:(0,w.jsx)(V.Z,{children:(0,w.jsx)(_.Z,{size:"large",fullWidth:!0,onClick:function(){return a(!0)},children:"New List"})})}),t&&(0,w.jsx)(H,{handleClose:function(){return a(!1)}})]})};var Y=function(){var e=(0,l.I0)(),n=(0,l.v9)(A.Tr),t=(0,l.v9)((function(e){return e.lists.status})),o=(0,l.v9)((function(e){return e.tickets.status}));return(0,r.useEffect)((function(){"idle"===t&&e((0,A.he)())}),[t,e]),(0,r.useEffect)((function(){"idle"===o&&e((0,E.he)())}),[o,e]),(0,w.jsx)(i.Z,{sx:{p:2},elevation:0,children:(0,w.jsx)(s.Z5,{onDragEnd:function(n){var t=n.destination,r=n.draggableId;t&&e((0,E.Vx)({id:r,listId:t.droppableId}))},children:(0,w.jsxs)(a.ZP,{container:!0,spacing:2,children:[n.map((function(e,n){return(0,w.jsx)(a.ZP,{item:!0,xl:2,lg:2,md:3,sm:4,xs:12,children:(0,w.jsx)(O,{item:e})},e.id)})),(0,w.jsx)(a.ZP,{item:!0,xl:2,lg:2,md:3,sm:4,xs:12,children:(0,w.jsx)(B,{})})]})})})}}}]);
//# sourceMappingURL=849.573656dc.chunk.js.map